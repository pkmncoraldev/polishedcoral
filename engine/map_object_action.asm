Pointers445f: ; 445f
	dw SetFacingStanding,              SetFacingStanding          ; PERSON_ACTION_00
	dw SetFacingStandAction,           SetFacingCurrent           ; PERSON_ACTION_STAND
	dw SetFacingStepAction,            SetFacingCurrent           ; PERSON_ACTION_STEP
	dw SetFacingBumpAction,            SetFacingCurrent           ; PERSON_ACTION_BUMP
	dw SetFacingCounterclockwiseSpin,  SetFacingCurrent           ; PERSON_ACTION_SPIN
	dw SetFacingCounterclockwiseSpin2, SetFacingStanding          ; PERSON_ACTION_SPIN_FLICKER
	dw SetFacingFish,                  SetFacingFish              ; PERSON_ACTION_FISHING
	dw SetFacingShadow,                SetFacingStanding          ; PERSON_ACTION_SHADOW
	dw SetFacingEmote,                 SetFacingEmote             ; PERSON_ACTION_EMOTE
	dw SetFacingBigDollSym,            SetFacingBigDollSym        ; PERSON_ACTION_BIG_SNORLAX
	dw SetFacingBounce,                SetFacingFreezeBounce      ; PERSON_ACTION_BOUNCE
	dw SetFacingWeirdTree,             SetFacingCurrent           ; PERSON_ACTION_WEIRD_TREE
	dw SetFacingBigDoll,               SetFacingBigDoll           ; PERSON_ACTION_BIG_DOLL
	dw SetFacingBoulderDust,           SetFacingStanding          ; PERSON_ACTION_BOULDER_DUST
	dw SetFacingGrassShake,            SetFacingStanding          ; PERSON_ACTION_GRASS_SHAKE
	dw SetFacingPuddleSplash,          SetFacingStanding          ; PERSON_ACTION_PUDDLE_SPLASH
	dw SetFacingCutTree,               SetFacingCutTree           ; PERSON_ACTION_CUT_TREE
	dw SetFacingSkyfall,               SetFacingCurrent           ; PERSON_ACTION_SKYFALL
	dw SetFacingBigGyarados,           SetFacingFreezeBigGyarados ; PERSON_ACTION_BIG_GYARADOS
	dw SetFacingStandFlip,             SetFacingStandFlip         ; PERSON_ACTION_STAND_FLIP
	dw SetFacingTileDown,          	   SetFacingTileDown		  ; PERSON_ACTION_TILE_DOWN
	dw SetFacingTileUp,          	   SetFacingTileUp			  ; PERSON_ACTION_TILE_UP
	dw SetFacingTileLeft,      		   SetFacingTileLeft		  ; PERSON_ACTION_TILE_LEFT
	dw SetFacingTileRight,         	   SetFacingTileRight		  ; PERSON_ACTION_TILE_RIGHT
	dw SetFacingArchTree,              SetFacingArchTree          ; PERSON_ACTION_ARCH_TREE
	dw SetFacingRun,                   SetFacingCurrent           ; PERSON_ACTION_RUN
	dw SetFacingSailboatTop,           SetFacingSailboatTop       ; PERSON_ACTION_SAILBOAT_TOP
	dw SetFacingSailboatBottom,        SetFacingSailboatBottom    ; PERSON_ACTION_SAILBOAT_BOTTOM
	dw SetFacingUmbrellaLeft,          SetFacingUmbrellaLeft      ; PERSON_ACTION_UMBRELLA_LEFT
	dw SetFacingUmbrellaRight,         SetFacingUmbrellaRight     ; PERSON_ACTION_UMBRELLA_RIGHT
	dw SetFacingBoatBob,               SetFacingFreezeBoatBob     ; PERSON_ACTION_BOAT_BOB
	dw SetFacingValve,                 SetFacingValve             ; PERSON_ACTION_VALVE
	dw SetFacingMallSign1,    		   SetFacingMallSign1	 	  ; PERSON_ACTION_MALL_SIGN_1
	dw SetFacingMallSign2,    		   SetFacingMallSign2	 	  ; PERSON_ACTION_MALL_SIGN_2
	dw SetFacingMallSign3,    		   SetFacingMallSign3	 	  ; PERSON_ACTION_MALL_SIGN_3
	dw SetFacingMallSign4,    		   SetFacingMallSign4	 	  ; PERSON_ACTION_MALL_SIGN_4
	dw SetFacingHangarLeft,    		   SetFacingHangarLeft	 	  ; PERSON_ACTION_HANGAR_LEFT
	dw SetFacingHangarRight,    	   SetFacingHangarRight	 	  ; PERSON_ACTION_HANGAR_RIGHT
	dw SetFacingLighthouse1,    	   SetFacingLighthouse1	 	  ; PERSON_ACTION_LIGHTHOUSE_1
	dw SetFacingLighthouse2,    	   SetFacingLighthouse2	 	  ; PERSON_ACTION_LIGHTHOUSE_2
	dw SetFacingLighthouse3,    	   SetFacingLighthouse3	 	  ; PERSON_ACTION_LIGHTHOUSE_3
	dw SetFacingSkate,                 SetFacingCurrent           ; PERSON_ACTION_SKATEBOARD
	dw SetFacingHalfpipe1,    		   SetFacingHalfpipe1	 	  ; PERSON_ACTION_HALFPIPE_1
	dw SetFacingHalfpipe2,    		   SetFacingHalfpipe2	 	  ; PERSON_ACTION_HALFPIPE_2
	dw SetFacingTopHalf,    		   SetFacingTopHalf		 	  ; PERSON_ACTION_TOP_HALF
	dw SetFacingBottomHalf,    		   SetFacingBottomHalf	 	  ; PERSON_ACTION_BOTTOM_HALF
	dw SetFacingSunbeamView1,    	   SetFacingSunbeamView1	  ; PERSON_ACTION_SUNBEAM_VIEW_1
	dw SetFacingSunbeamView2,    	   SetFacingSunbeamView2	  ; PERSON_ACTION_SUNBEAM_VIEW_2
	dw SetFacingSunbeamView3,    	   SetFacingSunbeamView3	  ; PERSON_ACTION_SUNBEAM_VIEW_3
	dw SetFacingSunbeamView4,    	   SetFacingSunbeamView4	  ; PERSON_ACTION_SUNBEAM_VIEW_4
	dw SetFacingSunbeamView5,    	   SetFacingSunbeamView5	  ; PERSON_ACTION_SUNBEAM_VIEW_5
	dw SetFacingSunbeamView6,    	   SetFacingSunbeamView6	  ; PERSON_ACTION_SUNBEAM_VIEW_6
	dw SetFacingBather,                SetFacingFreezeBather      ; PERSON_ACTION_BATHER
	dw SetFacingCandle,                SetFacingFreezeCandle      ; PERSON_ACTION_CANDLE
	dw SetFacingWalkInPlace1,          SetFacingFreezeBounce      ; PERSON_ACTION_WALK_IN_PLACE
	dw SetFacingBigMuk,		           SetFacingBigMuk		      ; PERSON_ACTION_BIG_MUK
	dw SetFacingBigMuk2,		       SetFacingBigMuk2		      ; PERSON_ACTION_BIG_MUK_2
	dw SetFacingBigMuk3,		       SetFacingBigMuk3		      ; PERSON_ACTION_BIG_MUK_3
	dw SetFacingStall,			       SetFacingStall		      ; PERSON_ACTION_STALL
	dw SetFacingBinoculars1,		   SetFacingBinoculars1	      ; PERSON_ACTION_BINOCULARS_1
	dw SetFacingBinoculars2,		   SetFacingBinoculars2	      ; PERSON_ACTION_BINOCULARS_2
	dw SetFacingBalloons1,             SetFacingFreezeBalloons1   ; PERSON_ACTION_BALLOONS_1
	dw SetFacingBalloons2,             SetFacingFreezeBalloons2   ; PERSON_ACTION_BALLOONS_2
	dw SetFacingFossilMachine,    	   SetFacingFossilMachine	  ; PERSON_ACTION_FOSSIL_MACHINE
	dw SetFacingPCSign,    			   SetFacingPCSign			  ; PERSON_ACTION_PC_SIGN
	dw SetFacingCardTable1,    		   SetFacingCardTable1		  ; PERSON_ACTION_CARD_TABLE_1
	dw SetFacingCardTable2,    		   SetFacingCardTable2		  ; PERSON_ACTION_CARD_TABLE_2
	dw SetFacingCardTable3,    		   SetFacingCardTable3		  ; PERSON_ACTION_CARD_TABLE_3
	dw SetFacingCardTable4,    		   SetFacingCardTable4		  ; PERSON_ACTION_CARD_TABLE_4
	dw SetFacingPlaySign,    		   SetFacingPlaySign		  ; PERSON_ACTION_PLAY_SIGN
	dw SetFacingDealerDown,    		   SetFacingDealerDown		  ; PERSON_ACTION_DEALER_DOWN
	dw SetFacingDealerLeft,    		   SetFacingDealerLeft		  ; PERSON_ACTION_DEALER_LEFT
	dw SetFacingDealerRight,   		   SetFacingDealerRight		  ; PERSON_ACTION_DEALER_RIGHT
	dw SetFacingSailboatTopRight,      SetFacingSailboatTopRight  ; PERSON_ACTION_SAILBOAT_TOP_RIGHT
	
; 44a3

SetFacingStanding: ; 44a3
	ld a, STANDING
	jr SetFixedFacing
; 44aa

SetFacingCurrent: ; 44aa
	call GetSpriteDirection
	jr SetFixedFacing
; 44b5

SetFacingShadow: ; 457b
	ld a, FACING_SHADOW
	jr SetFixedFacing
; 4582

SetFacingEmote: ; 4582 emote
	ld a, FACING_EMOTE
	jr SetFixedFacing
; 4589

SetFacingCutTree:
	ld a, FACING_CUT_TREE
	jr SetFixedFacing

SetFacingSailboatTop:
	ld a, FACING_SAILBOAT_TOP
	jr SetFixedFacing

SetFacingSailboatBottom:
	ld a, FACING_SAILBOAT_BOTTOM
	jr SetFixedFacing

SetFacingSailboatTopRight:
	ld a, FACING_SAILBOAT_TOP_RIGHT
	jr SetFixedFacing
	
SetFacingUmbrellaLeft:
	ld hl, OBJECT_FACING_STEP
	add hl, bc
	ld [hl], FACING_UMBRELLA_LEFT
	ret

SetFacingUmbrellaRight:
	ld hl, OBJECT_FACING_STEP
	add hl, bc
	ld [hl], FACING_UMBRELLA_RIGHT
	ret
	
SetFacingBigDoll: ; 45c5
;	ld a, [wVariableSprites + SPRITE_BIG_DOLL - SPRITE_VARS]
;	cp SPRITE_BIG_ONIX
;	ld a, FACING_BIG_DOLL_ASYM
;	jr z, SetFixedFacing
SetFacingBigDollSym: ; 4589
;	ld a, FACING_BIG_DOLL_SYM
;	jr SetFixedFacing
	ret
; 4590

SetFacingFish: ; 456e
	call GetSpriteDirection
	rrca
	rrca
	add FACING_FISH_DOWN
	jr SetFixedFacing
; 457b

SetFacingArchTree:
	call GetSpriteDirection
	rrca
	rrca
	add FACING_ARCH_TREE_DOWN
	jr SetFixedFacing

SetFacingStandFlip:
	call GetSpriteDirection
	rrca
	rrca
	add FACING_STEP_DOWN_FLIP
SetFixedFacing:
	ld hl, OBJECT_FACING_STEP
	add hl, bc
	ld [hl], a
	ret
; 44b5

SetFacingStandAction:
	ld hl, OBJECT_FACING_STEP
	add hl, bc
	ld a, [hl]
	and 1
	jr z, SetFacingCurrent
	; fallthrough

SetFacingStepAction:
SetFacingBumpAction:
	ld a, [wPlayerState]
	cp PLAYER_SKATEBOARD
	jp z, SetFacingSkateSlow

	ld hl, OBJECT_FLAGS1
	add hl, bc
	bit SLIDING, [hl]
	jr nz, SetFacingCurrent

	ld hl, OBJECT_STEP_FRAME
	add hl, bc
	inc [hl]
	ld a, [hl]
	rrca
	rrca
	rrca
	and %11
	ld d, a
	call GetSpriteDirection
	or d
	ld hl, OBJECT_FACING_STEP
	add hl, bc
	ld [hl], a
	ret

SetFacingSkyfall:
	ld hl, OBJECT_FLAGS1
	add hl, bc
	bit SLIDING, [hl]
	jp nz, SetFacingCurrent

	ld hl, OBJECT_STEP_FRAME
	add hl, bc
	ld a, [hl]
	add 2
	ld [hl], a
	rrca
	rrca
	rrca
	and %11
	ld d, a

	call GetSpriteDirection
	or d
	jr SetFixedFacing

SetFacingCounterclockwiseSpin: ; 4529
	call CounterclockwiseSpinAction
	ld hl, OBJECT_FACING
	add hl, bc
	ld a, [hl]
	jr SetFixedFacing
; 4539

SetFacingCounterclockwiseSpin2: ; 4539
	call CounterclockwiseSpinAction
	jp SetFacingStanding
; 453f

CounterclockwiseSpinAction:
	ld hl, OBJECT_STEP_FRAME
	add hl, bc
	ld a, [hl]
	and %11110000
	ld e, a

	ld a, [hl]
	inc a
	and %00001111
	ld d, a
	cp 4
	jr c, .ok

	ld d, 0
	ld a, e
	add $10
	and %00110000
	ld e, a

.ok
	ld a, d
	or e
	ld [hl], a

	swap e
	ld d, 0
	ld hl, .Directions
	add hl, de
	ld a, [hl]
	ld hl, OBJECT_FACING
	add hl, bc
	ld [hl], a
	ret

.Directions
	db OW_DOWN, OW_RIGHT, OW_UP, OW_LEFT

SetFacingBounce: ; 4590
	ld hl, OBJECT_STEP_FRAME
	add hl, bc
	ld a, [hl]
	inc a
	and %00111111
	ld [hl], a
	and %00100000
	ld a, FACING_STEP_UP_0
	jp nz, SetFixedFacing
SetFacingFreezeBounce: ; 45a4
	xor a ; FACING_STEP_DOWN_0
	jp SetFixedFacing

SetFacingBalloons1: ; 4590
	ld hl, OBJECT_STEP_FRAME
	add hl, bc
	ld a, [hl]
	inc a
	and %01111111
	ld [hl], a
	and %01000000
	ld a, FACING_TILE_UP
	jp nz, SetFixedFacing
SetFacingFreezeBalloons1: ; 45a4
	ld a, FACING_TILE_DOWN
	jp SetFixedFacing
	
SetFacingBalloons2: ; 4590
	ld hl, OBJECT_STEP_FRAME
	add hl, bc
	ld a, [hl]
	inc a
	and %01111111
	ld [hl], a
	and %01000000
	ld a, FACING_BALLOONS
	jp nz, SetFixedFacing
SetFacingFreezeBalloons2: ; 45a4
	ld a, FACING_TILE_LEFT
	jp SetFixedFacing

SetFacingWalkInPlace1:
	ld hl, OBJECT_STEP_FRAME
	add hl, bc
	ld a, [hl]
	inc a
	and %00011111
	ld [hl], a
	and %00010000
	ld a, FACING_STEP_DOWN_1
	jp nz, SetFixedFacing
	xor a ; FACING_STEP_DOWN_0
	jp SetFixedFacing

SetFacingCandle: ; 4590
	ld hl, OBJECT_STEP_FRAME
	add hl, bc
	ld a, [hl]
	inc a
	and %00011111
	ld [hl], a
	and %00010000
	ld a, FACING_CANDLE_1
	jp nz, SetFixedFacing
SetFacingFreezeCandle: ; 45a4
	ld a, FACING_CANDLE_2
	jp SetFixedFacing

SetFacingBather: ; 4590
	ld hl, OBJECT_STEP_FRAME
	add hl, bc
	ld a, [hl]
	inc a
	and %00111111
	ld [hl], a
	and %00100000
	ld a, FACING_STEP_LEFT_0
	jp nz, SetFixedFacing
SetFacingFreezeBather: ; 45a4
	ld a, FACING_STEP_RIGHT_0
	jp SetFixedFacing
; 45ab
	
SetFacingBoatBob: ; 4590
	ld hl, OBJECT_STEP_FRAME
	add hl, bc
	ld a, [hl]
	inc a
	and %01111111
	ld [hl], a
	and %01000000
	ld a, FACING_BOAT_BOB_1
	jp nz, SetFixedFacing
SetFacingFreezeBoatBob: ; 45a4
	ld a, FACING_BOAT_BOB_2
	jp SetFixedFacing

SetFacingValve:
	ld a, FACING_VALVE
	jp SetFixedFacing
	
SetFacingBigGyarados:
	ld hl, OBJECT_STEP_FRAME
	add hl, bc
	ld a, [hl]
	inc a
	and %00001111
	ld [hl], a
	and %00001000
	ld a, FACING_BIG_GYARADOS_2
	jp nz, SetFixedFacing
SetFacingFreezeBigGyarados:
	ld a, FACING_BIG_GYARADOS_1
	jp SetFixedFacing

SetFacingWeirdTree: ; 45ab
	ld hl, OBJECT_STEP_FRAME
	add hl, bc
	ld a, [hl]
	inc a
	ld [hl], a
	and %00001100
	rrca
	rrca
	add FACING_WEIRD_TREE_0
	jp SetFixedFacing
; 45be

SetFacingBoulderDust: ; 45da
	ld hl, OBJECT_STEP_FRAME
	add hl, bc
	inc [hl]
	ld a, [hl]
	and 2
	ld a, FACING_BOULDER_DUST_1
	jr z, .ok
	inc a ; FACING_BOULDER_DUST_2
.ok
	jp SetFixedFacing
; 45ed

SetFacingGrassShake:
	ld hl, OBJECT_STEP_FRAME
	add hl, bc
	inc [hl]
	ld a, [hl]
	and 4
	ld a, FACING_GRASS_1
	jr z, .ok
	inc a ; FACING_GRASS_2
.ok
	jp SetFixedFacing
; 4600

SetFacingPuddleSplash:
	ld hl, OBJECT_STEP_FRAME
	add hl, bc
	inc [hl]
	ld a, [hl]
	and 4
	ld a, FACING_SPLASH_1
	jr z, .ok
	inc a ; FACING_SPLASH_2
.ok
	jp SetFixedFacing

SetFacingRun:
	ld hl, OBJECT_FLAGS1
	add hl, bc
	bit SLIDING, [hl]
	jp nz, SetFacingCurrent

	ld hl, OBJECT_STEP_FRAME
	add hl, bc
	inc [hl]
	ld a, [hl]
	rrca
	rrca
	and %11
	ld d, a
	call GetSpriteDirection
	or d
	ld hl, OBJECT_FACING_STEP
	add hl, bc
	ld [hl], a
	ret
	
SetFacingSkate:
	ld hl, OBJECT_FLAGS1
	add hl, bc
	bit SLIDING, [hl]
	jp nz, SetFacingCurrent

	ld hl, OBJECT_STEP_FRAME
	add hl, bc
	inc [hl]
	ld a, [hl]
	rrca
	rrca
	and %01
	ld d, a
	call GetSpriteDirection
	or d
	ld hl, OBJECT_FACING_STEP ;call SetFixedFacing
	add hl, bc
	ld [hl], a
	ret
	
SetFacingSkateSlow:
	ld hl, OBJECT_FLAGS1
	add hl, bc
	bit SLIDING, [hl]
	jp nz, SetFacingCurrent

	ld hl, OBJECT_STEP_FRAME
	add hl, bc
	inc [hl]
	ld a, [hl]
	rrca
	rrca
	rrca
	and %01
	ld d, a
	call GetSpriteDirection
	or d
	ld hl, OBJECT_FACING_STEP ;call SetFixedFacing
	add hl, bc
	ld [hl], a
	ret
	
SetFacingTileDown:
	ld a, FACING_TILE_DOWN
	jp SetFixedFacing
	
SetFacingTileUp:
	ld a, FACING_TILE_UP
	jp SetFixedFacing
	
SetFacingTileLeft:
	ld a, FACING_TILE_LEFT
	jp SetFixedFacing
	
SetFacingTileRight:
	ld a, FACING_TILE_RIGHT
	jp SetFixedFacing

SetFacingMallSign1:
	ld a, FACING_MALL_SIGN_1
	jp SetFixedFacing
	
SetFacingMallSign2:
	ld a, FACING_MALL_SIGN_2
	jp SetFixedFacing
	
SetFacingMallSign3:
	ld a, FACING_MALL_SIGN_3
	jp SetFixedFacing
	
SetFacingMallSign4:
	ld a, FACING_MALL_SIGN_4
	jp SetFixedFacing
	
SetFacingHangarLeft:
	ld a, FACING_HANGAR_LEFT
	jp SetFixedFacing
	
SetFacingHangarRight:
	ld a, FACING_HANGAR_RIGHT
	jp SetFixedFacing
	
SetFacingLighthouse1:
	ld a, FACING_LIGHTHOUSE_1
	jp SetFixedFacing
	
SetFacingLighthouse2:
	ld a, FACING_LIGHTHOUSE_2
	jp SetFixedFacing
	
SetFacingLighthouse3:
	ld a, FACING_LIGHTHOUSE_3
	jp SetFixedFacing
	
SetFacingHalfpipe1:
	ld a, FACING_HALFPIPE_1
	jp SetFixedFacing
	
SetFacingHalfpipe2:
	ld a, FACING_HALFPIPE_2
	jp SetFixedFacing
	
SetFacingTopHalf:
	ld a, FACING_TOP_HALF
	jp SetFixedFacing
	
SetFacingBottomHalf:
	ld a, FACING_BOTTOM_HALF
	jp SetFixedFacing
	
SetFacingSunbeamView1:
	ld a, FACING_SUNBEAM_VIEW_1
	jp SetFixedFacing
	
SetFacingSunbeamView2:
	ld a, FACING_SUNBEAM_VIEW_2
	jp SetFixedFacing
	
SetFacingSunbeamView3:
	ld a, FACING_SUNBEAM_VIEW_3
	jp SetFixedFacing
	
SetFacingSunbeamView4:
	ld a, FACING_SUNBEAM_VIEW_4
	jp SetFixedFacing
	
SetFacingSunbeamView5:
	ld a, FACING_SUNBEAM_VIEW_5
	jp SetFixedFacing
	
SetFacingSunbeamView6:
	ld a, FACING_SUNBEAM_VIEW_6
	jp SetFixedFacing
	
SetFacingBigMuk:
	ld a, FACING_BIG_MUK
	jp SetFixedFacing
	
SetFacingBigMuk2:
	ld a, FACING_BIG_MUK_2
	jp SetFixedFacing
	
SetFacingBigMuk3:
	ld a, FACING_BIG_MUK_3
	jp SetFixedFacing
	
SetFacingStall:
	ld a, FACING_STALL
	jp SetFixedFacing
	
SetFacingBinoculars1:
	ld a, FACING_BINOCULARS_1
	jp SetFixedFacing
	
SetFacingBinoculars2:
	ld a, FACING_BINOCULARS_2
	jp SetFixedFacing
	
SetFacingFossilMachine:
	ld a, FACING_FOSSIL_MACHINE
	jp SetFixedFacing
	
SetFacingPCSign:
	ld a, FACING_PC_SIGN
	jp SetFixedFacing
	
SetFacingCardTable1:
	ld a, FACING_CARD_TABLE_1
	jp SetFixedFacing
	
SetFacingCardTable2:
	ld a, FACING_CARD_TABLE_2
	jp SetFixedFacing
	
SetFacingCardTable3:
	ld a, FACING_CARD_TABLE_3
	jp SetFixedFacing
	
SetFacingCardTable4:
	ld a, FACING_CARD_TABLE_4
	jp SetFixedFacing
	
SetFacingPlaySign:
	ld a, FACING_PLAY_SIGN
	jp SetFixedFacing
	
SetFacingDealerDown:
	ld a, FACING_DEALER_DOWN
	jp SetFixedFacing
	
SetFacingDealerLeft:
	ld a, FACING_DEALER_LEFT
	jp SetFixedFacing
	
SetFacingDealerRight:
	ld a, FACING_DEALER_RIGHT
	jp SetFixedFacing
	